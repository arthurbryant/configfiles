use strict;
use warnings;
use Test::More;

use Mixi::Test;
use Mixi::Community::DB;
use Mixi::Test::Fixtures qw/fixtures/;
use Data::Dumper;

my $f;
BEGIN {
    $f = fixtures(qw{community/DB_COMMUNITY_MANAGER});
}
my $community_data = $f->community_001;
print Dumper($community_data);

my $community_id = 002;

subtest 'select commuity' => sub {
    my $db = Mixi::Community::DB->new->adapter('-Node' => { role => 's',community_id => $community_id });

    my $result = $db->select_community(community_id=>$community_id);
    map{
        ok( $result->{$_},$_)
    }qw/ id name create_date update_date level
        admin_id category_id logo logo_ext 
        details public
    /;
    print Dumper($result);
};

done_testing();
